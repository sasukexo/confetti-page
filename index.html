<!DOCTYPE html>
<html>
  <link
    rel="shortcut icon"
    href="pechacks.png"
    title="Favicon"
  />
  <link
    type="text/css"
    id="dark-mode"
    rel="stylesheet"
    href="style.css"
  />
  <style type="text/css" id="dark-mode-custom-style"></style>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>PEC HACKS</title>
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,700&amp;subset=latin,latin-ext"
      rel="stylesheet"
      type="text/css"
    />
    
  </head>
  <body>

    <script src="confetti.js"></script>
    <script>

      

      function showConstructionMessageAndOpenLink() {
        var snd = new Audio("song.mp3");
        console.log("play");
        snd.currentTime=1;
        snd.play();
        console.log("success");
        document.getElementById("back-link").style.display = "none";
        document.getElementById("short-msg").style.display = "none";
        document.getElementById("constructionMessage").style.display = "block";
        document.getElementById("dummy").style.display = "block";

        setTimeout(change_init, 0);
        setTimeout(compiling, 5000);
        setTimeout(change_building, 10000);
        setTimeout(change_deployed, 20000);
    
        setTimeout(startConfetti, 21000);
    
        // setTimeout(openLink, 30000); // Delay opening the link for 30 seconds
      }
      let dots = 0; // Initialize the number of dots
    
      function change_init() {
        // Add a dot to the text in "constructionMessage"
        const messageElement = document.getElementById("constructionMessage");
        messageElement.innerHTML = "Initializing" + ".".repeat(dots);
    
        // Increment the number of dots (up to a maximum of 3, for example)
        if (dots < 5) {
          dots++;
        } else {
          // exit the function
          dots = 0;
          return;
        }
    
        // Wait for 500 milliseconds and then call the function again
        setTimeout(change_init, 800);
      }
    
      function compiling() {
        // Add a dot to the text in "constructionMessage"
        const messageElement = document.getElementById("constructionMessage");
        messageElement.innerHTML = "Compiling Code" + ".".repeat(dots);
    
        // Increment the number of dots (up to a maximum of 3, for example)
        if (dots < 5) {
          dots++;
        } else {
          // exit the function
          dots = 0;
          return;
        }
    
        // Wait for 500 milliseconds and then call the function again
        setTimeout(compiling, 800);
      }
    
      function change_building() {
        // Add a dot to the text in "constructionMessage"
        const messageElement = document.getElementById("constructionMessage");
        messageElement.innerHTML = "Building" + ".".repeat(dots);
    
        // Increment the number of dots (up to a maximum of 3, for example)
        if (dots < 5) {
          dots++;
        } else {
          // exit the function
          dots = 0;
          return;
        }
    
        // Wait for 500 milliseconds and then call the function again
        setTimeout(change_building, 1800);
      }
    
      function change_deployed() {
        document.getElementById("constructionMessage").innerHTML = "Deployed!";
        document.getElementById("dummy").style.display = "none";
        document.getElementById("start-count").style.display = "block";
      }
    
      function openLink() {
        window.location.href = "https://pechacks.org"; // Redirect to the desired page
      }
    
      function startConfetti() {
        confetti.start();
        setTimeout(stopConfetti, 30000); // Stop confetti after 30 seconds (adjust as needed)
      }
    
      function stopConfetti() {
        confetti.stop();
      }
    </script>


    <div class="main">
      <div class="card">
        <div class="header">
          <img src="pechacks.png" alt="PEC Logo" width="160px">
          <h1>PEC HACKS</h1>
        </div>
        <div class="body">
          <p id="short-msg">Please click here to LAUNCH the website.</p>
          <div id="dummy">
            <div class="lds-hourglass" id="loader" ></div>

          </div>
          <div id="constructionMessage" style="display: none;">
            <p>Initializing...</p>
          </div>
          <p>
            <button class="button-55" role="button" id="back-link" onclick="showConstructionMessageAndOpenLink()">Launch</button>
          </p>
          <p style="display: flex; justify-content: center;">

            <button class="button-55" role="button" id="start-count" onclick="openLink()" style="display: none;">Start Countdown</button>
            
          </p>

          
          
        </div>
      </div>
    </div>
    <div id="confettiContainer"></div>

    


  </body>
</html>
